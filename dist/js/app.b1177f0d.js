(function(t){function e(e){for(var a,r,l=e[0],o=e[1],u=e[2],d=0,f=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);c&&c(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,l=1;l<n.length;l++){var o=n[l];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-main",[n("router-view")],1)],1)},i=[],r={name:"App",data:function(){return{}}},l=r,o=n("2877"),u=n("6544"),c=n.n(u),d=n("7496"),f=n("f6c4"),h=Object(o["a"])(l,s,i,!1,null,null,null),p=h.exports;c()(h,{VApp:d["a"],VMain:f["a"]});var v=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("intro")},b=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"animate__animated animate__fadeInLeft text-center mt-12"},[n("h1",[t._v("Etape 1")]),n("b-card",{attrs:{"bg-variant":"dark","text-variant":"white",header:"Combien d'activités à ordonnancer ?","header-tag":"header"}},[n("label",{attrs:{for:"cardinal"}},[t._v("Nombre de tâches")]),n("b-input",{class:t.isValid(),attrs:{type:"number",name:"cardinal",placeholder:"Entrer le nombre d'activités",required:""},on:{change:t.checkCardinalChange},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t.valid?t._e():n("div",{staticClass:"invalid-feedback"},[t._v(" Il doit y avoir au moins deux activités pour commencer un ordonnancement ")]),t.valid?n("b-button",{staticClass:"mt-8",attrs:{variant:"info"},on:{click:t.next}},[t._v("Poursuivre")]):t._e()],1)],1)},_=[],k={name:"intro",data:function(){return{input:null,valid:!1}},methods:{checkCardinalChange:function(){this.valid=this.input>=2},isValid:function(){if(!this.valid)return"is-invalid"},next:function(){this.$store.commit("setCardinal",this.input),this.$router.push({name:"tasks"})}}},y=k,x=Object(o["a"])(y,g,_,!1,null,null,null),w=x.exports,C={name:"Home",components:{intro:w}},T=C,E=Object(o["a"])(T,m,b,!1,null,null,null),$=E.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tasksTable")},j=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"animate__animated animate__fadeInRight mt-12 text-center"},[n("h1",[t._v("Etape 2")]),n("b-card",{attrs:{"bg-variant":"dark","text-variant":"white",header:"Tableau des activités","header-tag":"header"}},[n("b-table",{attrs:{fields:t.fields,items:t.items,responsive:"",striped:"",hover:"","caption-top":"",dark:"",bordered:""},scopedSlots:t._u([{key:"table-caption",fn:function(){return[t._v(" Renseigner les activités. ")]},proxy:!0},{key:"cell(timing)",fn:function(e){return[t.readyToGo?n("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.formatTiming(t.tasks[e.index].timing))+" ")]):t._e(),t.readyToGo?t._e():n("b-input",{class:t.isValid(e.index),attrs:{type:"number",name:"input_"+e.index,placeholder:"Durée",required:""},on:{change:function(e){return t.validInputs()}},model:{value:t.inputs[e.index],callback:function(n){t.$set(t.inputs,e.index,n)},expression:"inputs[row.index]"}}),t.valid[e.index]?t._e():n("div",{staticClass:"invalid-feedback"},[t._v(" La durée ne peut pas être nulle ou négative ")])]}}])}),t.readyToRegister&&!t.readyToGo?n("b-button",{staticClass:"mt-4",attrs:{variant:"info"},on:{click:function(e){return t.update()}}},[t._v("Enregistrer")]):t._e(),t.readyToGo?n("b-button",{staticClass:"mt-4",attrs:{variant:"info"},on:{click:function(e){return t.next()}}},[t._v("Poursuivre")]):t._e()],1)],1)},P=[],D=(n("4160"),n("b0c0"),n("159b"),{name:"tasksTable",data:function(){return{cardinal:0,tasks:null,inputs:null,valid:null,readyToRegister:!1,readyToGo:!1}},computed:{items:function(){for(var t=[],e=0;e<this.cardinal;e++)t[e]={task:this.tasks[e].name,timing:this.tasks[e].timing,dependancies:this.tasks[e].dependancies};return t},fields:function(){return[{key:"task",label:"Tâches"},{key:"timing",label:"Durée"}]}},methods:{formatTiming:function(t){return null==t?"":t},isValid:function(t){return this.valid[t]=this.inputs[t]>0&&null!=this.inputs[t],this.valid[t]?"":"is-invalid"},validInputs:function(){var t=0;while(this.valid[t]&&t++<this.valid.length);this.readyToRegister=t==this.valid.length},update:function(){var t=this,e=0;this.tasks.forEach((function(n){n.timing=t.inputs[e++]})),this.readyToGo=!0},next:function(){this.$store.commit("setData",this.tasks),this.$router.push({name:"dependancies"})}},created:function(){this.cardinal=this.$store.getters.cardinal;for(var t=[],e=1;e<=this.cardinal;e++)t[e-1]={name:"T"+e,timing:null,dependancies:[]};this.tasks=t,this.inputs=[],this.valid=[]}}),R=D,L=Object(o["a"])(R,I,P,!1,null,null,null),M=L.exports,S={name:"tasks",components:{tasksTable:M}},N=S,A=Object(o["a"])(N,O,j,!1,null,null,null),G=A.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("computing")},q=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"animate__animated animate__fadeInRight mt-12 text-center"},[n("h1",[t._v(" Etape finale")]),n("b-card",{attrs:{"text-variant":"white","bg-variant":"dark",header:"Récapitulatif du réseau P.E.R.T","header-tag":"header"}},[n("b-table",{attrs:{items:t.items,fields:t.fields,busy:t.isBusy,responsive:"",striped:"",hover:"","caption-top":"",dark:"",bordered:""},scopedSlots:t._u([{key:"cell(task)",fn:function(e){return[t._v(" "+t._s(t.tasks[e.index].id)+" ")]}},{key:"cell(duration)",fn:function(e){return[n("span",{staticClass:"badge badge-warning"},[t._v(t._s(e.value))])]}},{key:"cell(critical_path)",fn:function(e){return[0==e.item.h?n("i",{staticClass:"material-icons text-danger"},[t._v("checkbox")]):t._e()]}},{key:"cell(est)",fn:function(e){return[n("span",{staticClass:"badge badge-success"},[t._v(t._s(e.value))])]}},{key:"cell(lst)",fn:function(e){return[n("span",{staticClass:"badge badge-success"},[t._v(t._s(e.value))])]}},{key:"cell(eet)",fn:function(e){return[n("span",{staticClass:"badge badge-danger"},[t._v(t._s(e.value))])]}},{key:"cell(let)",fn:function(e){return[n("span",{staticClass:"badge badge-danger"},[t._v(t._s(e.value))])]}},{key:"cell(h)",fn:function(e){return[n("span",{staticClass:"badge badge-info"},[t._v(t._s(e.value))])]}},{key:"table-caption",fn:function(){return[t._v(" Récapitulatif. ")]},proxy:!0},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Exécution...")])],1)]},proxy:!0}])}),t.done?t._e():n("b-button",{staticClass:"mt-4",attrs:{pill:"",variant:"secondary"},on:{click:function(e){return t.run()}}},[t._v("Exécuter l'algorithme")]),t.done?n("p",{staticClass:"animate__animated animate__bounce"},[n("span",{staticClass:"badge badge-primary"},[t._v(" Durée minimum du projet: "+t._s(t.processDuration)+" ")])]):t._e(),t.done?n("b-button",{staticClass:"mt-4 text-white",attrs:{variant:"outline-secondary",to:"/"}},[t._v("Recommencer")]):t._e()],1)],1)},F=[],J=(n("a9e3"),n("b85c"));function H(t){var e=this;return t=t||{},e.id=t.id,e.duration=t.duration,e.est=t.est,e.lst=t.lst,e.eet=t.eet,e.let=t.let,e.h=t.h,e.successors=[],e.predecessors=t.predecessors||[],e}function z(){var t,e,n=this,a=!1,s={};function i(){if(!a)for(var e in a=!0,t=new H({id:"start",duration:0}),s){var n=s[e],i=n.predecessors,r=[];if(0==i.length)r.push(t),t.successors.push(n);else for(var l in i){var o=s[i[l]];if(!o)throw new Error("Node "+l+" dont exists");r.push(o),o.successors.push(n)}n.predecessors=r}}function r(t){for(var e in t.successors){var n=t.successors[e],a=n.predecessors;for(var s in a){var i=a[s];(null==n.est||n.est<i.eet)&&(n.est=i.eet)}n.eet=n.est+n.duration,r(n)}}function l(t,e){if(0==t.successors.length)t.let=e,t.lst=t.let-t.duration,t.h=t.eet-t.let;else{for(var n in t.successors){var a=t.successors[n];l(a,e),(null==t.let||t.let>a.lst)&&(t.let=a.lst)}t.lst=t.let-t.duration,t.h=t.let-t.eet}}function o(e,n){if(0==e.h){var a=e.predecessors;for(var s in a){var i=a[s];if(0==i.h){var r=new H({id:i.id,duration:i.duration,est:i.est,lst:i.lst,eet:i.eet,let:i.let,h:i.h});i!==t&&(n.predecessors.push(r),o(i,r))}}}}return n.addActivity=function(t){s[t.id]=t},n.getCriticalPath=function(n,a){if(!n)throw new Error("End activity id is required!");if(e=s[n],!e)throw new Error("Node end dont not match");i(),t.est=0,t.eet=0,r(t),e.let=e.eet,e.lst=e.let-e.duration,e.h=e.eet-e.let,l(t,a);var u=null;return 0==e.h&&(u=new H({id:e.id,duration:e.duration,est:e.est,lst:e.lst,eet:e.eet,let:e.let,h:e.h}),o(e,u)),u},n.getList=function(){return i(),s},n.getStartNode=function(){return i(),t.est=0,t.eet=0,t},n}function K(t){var e=this;function n(t){for(var e in t.successors){var a=t.successors[e],s=a.predecessors;for(var i in s){var r=s[i];(null==a.est||a.est<r.eet)&&(a.est=r.eet)}a.eet=a.est+a.duration,n(a)}}function a(t){if(0==t.successors.length)t.let=t.eet,t.lst=t.let-t.duration,t.h=t.eet-t.let,(null==e.maxLet||e.maxLet<t.let)&&0==t.h&&(e.maxId=t.id,e.maxLet=t.let);else{for(var n in t.successors){var s=t.successors[n];a(s),(null==t.let||t.let>s.lst)&&(t.let=s.lst)}t.lst=t.let-t.duration,t.h=t.let-t.eet}}e.maxLet=null,e.maxId=null,e.node=t,e.getMaxLet=function(){return e.maxLet},e.getMaxId=function(){return e.maxId},e.process=function(){e.node.est=0,e.node.eet=0,n(e.node),a(e.node)}}var Q={name:"computing",data:function(){return{cardinal:0,items:null,tasks:null,list:null,processDuration:null,isBusy:!1,done:!1}},methods:{getItems:function(){var t,e=[],n=Object(J["a"])(this.tasks);try{for(n.s();!(t=n.n()).done;){var a=t.value,s={};s.duration=a.duration,s.predecessors=a.predecessors,s.est=null,s.lst=null,s.eet=null,s.let=null,s.h=null,e.push(s)}}catch(i){n.e(i)}finally{n.f()}return e},run:function(){this.isBusy=!0,this.list=new z;var t,e=new z,n=Object(J["a"])(this.tasks);try{for(n.s();!(t=n.n()).done;){var a=t.value,s={id:a.id,duration:Number(a.duration)};a.predecessors.length&&(s.predecessors=a.predecessors),this.list.addActivity(new H(s)),e.addActivity(new H(s))}}catch(r){n.e(r)}finally{n.f()}var i=new K(e.getStartNode());i.process(),this.list.getCriticalPath(i.getMaxId(),i.getMaxLet()),this.processDuration=i.getMaxLet(),this.updateItems()},updateItems:function(){var t=this,e=0,n=this.list.getList();for(var a in n)this.items[e].est=n[a].est,this.items[e].lst=n[a].lst,this.items[e].eet=n[a].eet,this.items[e].let=n[a].let,this.items[e++].h=n[a].h;setTimeout((function(){t.isBusy=!1,t.done=!0}),3e3)}},computed:{fields:function(){return[{key:"task",label:"Activité",class:"font-weight-bold"},{key:"duration",label:"Durée"},{key:"predecessors",label:"Dépendances",formatter:function(t){var e="";return t.forEach((function(t){e+=t+", "})),e.length?e.substr(0,e.length-2):"-"}},{key:"est",label:"Début au plus tôt"},{key:"lst",label:"Début au plus tard"},{key:"eet",label:"Fin au plus tôt"},{key:"let",label:"Fin au plus tard"},{key:"h",label:"Marge"},{key:"critical_path",label:"Critique",class:"text-center"}]}},created:function(){this.cardinal=this.$store.getters.cardinal,this.tasks=this.$store.getters.data,this.items=this.getItems()}},U=Q,W=Object(o["a"])(U,B,F,!1,null,null,null),X=W.exports,Y={name:"final",components:{computing:X}},Z=Y,tt=Object(o["a"])(Z,V,q,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dependanciesTable")},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"animate__animated animate__fadeInRight mt-12 text-center"},[n("h1",[t._v("Etape 3")]),n("b-card",{attrs:{"text-variant":"white","bg-variant":"dark",header:"Tableau des dépendances","header-tag":"header"}},[n("b-table",{attrs:{fields:t.fields,items:t.items,responsive:"",hover:"","caption-top":"",dark:"",bordered:""},scopedSlots:t._u([{key:"cell(task)",fn:function(e){return[t._v(" "+t._s(t.tasks[e.index].name)+" ")]}},{key:"cell()",fn:function(e){return[e.field.key!=t.tasks[e.index].name&&t.checkNonReflectivity(e.index,e.field.key)?n("b-checkbox",{on:{input:function(e){return t.check()}},model:{value:e.item[e.field.key],callback:function(n){t.$set(e.item,e.field.key,n)},expression:"data.item[data.field.key]"}}):t._e()]}},{key:"table-caption",fn:function(){return[t._v(" Configurer les dépendances. ")]},proxy:!0}])}),t.invalid?t._e():n("b-button",{staticClass:"mt-4",attrs:{variant:"info"},on:{click:function(e){return t.next()}}},[t._v("Poursuivre")]),t.invalid?n("div",{staticClass:"mt-8 alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" Il doit y avoir au moins une activité indépendante ")]):t._e()],1)],1)},it=[],rt={name:"dependanciesTable",data:function(){return{cardinal:0,tasks:null,invalid:!1}},methods:{next:function(){this.tasks=this.formatTasks(),this.$store.commit("setData",this.tasks),this.$router.push({name:"algorithm"})},formatTasks:function(){var t=this,e=[];return this.tasks.forEach((function(n,a){var s={};s.id=n.name,s.duration=n.timing,s.predecessors=[],t.getPredecessors(s,a),e.push(s)})),e},getPredecessors:function(t,e){var n;for(n in this.items[e])this.items[e][n]&&t.predecessors.push(n)},check:function(){for(var t=!1,e=0;e<this.cardinal&&!t;e++){var n=0;for(n=1;n<=this.cardinal&&!this.items[e]["T"+n];n++);t=this.cardinal==n-1}this.invalid=!t},checkNonReflectivity:function(t,e){var n="T"+ ++t,a=Number(e[1])-1;return!this.items[a][n]}},computed:{fields:function(){for(var t=[{key:"task",label:"Processus",class:"font-weight-bold"}],e=0;e<this.cardinal;e++){var n=this.tasks[e].name;t.push({key:n,label:n})}return t},items:function(){for(var t=[],e=0;e<this.cardinal;e++){for(var n={},a=0;a<this.cardinal;a++){var s=this.tasks[a].name;n[s]=!1}t.push(n)}return t}},created:function(){this.cardinal=this.$store.getters.cardinal,this.tasks=this.$store.getters.data}},lt=rt,ot=Object(o["a"])(lt,st,it,!1,null,null,null),ut=ot.exports,ct={name:"dependancies",components:{dependanciesTable:ut}},dt=ct,ft=Object(o["a"])(dt,nt,at,!1,null,null,null),ht=ft.exports;a["default"].use(v["a"]);var pt=new v["a"]({routes:[{path:"/",name:"home",component:$},{path:"/taches",name:"tasks",component:G},{path:"/taches/dependances",name:"dependancies",component:ht},{path:"/algorithme",name:"algorithm",component:et}]}),vt=n("2f62");a["default"].use(vt["a"]);var mt=new vt["a"].Store({state:{cardinal:0,data:[]},mutations:{setCardinal:function(t,e){t.cardinal=e},setData:function(t,e){t.data=e}},getters:{cardinal:function(t){return t.cardinal},data:function(t){return t.data}},modules:{}}),bt=n("5f5b"),gt=(n("f9e3"),n("2dd8"),n("77ed"),n("619b"),n("f309"));a["default"].use(gt["a"]);var _t=new gt["a"]({theme:{dark:!0}});a["default"].use(bt["a"]),a["default"].config.productionTip=!0,new a["default"]({router:pt,store:mt,vuetify:_t,render:function(t){return t(p)}}).$mount("#app")}});
//# sourceMappingURL=app.b1177f0d.js.map